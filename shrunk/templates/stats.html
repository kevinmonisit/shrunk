{% extends "base.html" %}
{% block content %}
<div class="links-box col-xs-12 col-sm-8 col-sm-offset-1">
  <h1>URL stats</h1>
  <article class="add-group clearfix">
    {% if missing_url %}
    <h3> URL not found :( </h3>
    {% else %}
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <h3><a href="{{ url_info['long_url'] }}">
	{{ url_info["title"] }}
    </a></h3>
    <ul>
      <li>Visits: {{ url_info["visits"] }}</li>
      <li>First Time Visits: <span id="first_time_visits">Loading...</span></li>
    </ul>
    <div>
      key:
      <span style="color:steelblue">monthly total visits</span>
      <span style="color:orange">monthly first time visits</span>
    </div>
    <div id="nodata"></div>
    <svg height="0"></svg>
    <div>
     <form class="form-inline">
       <select class="form-control" id="start"></select>
       <select class="form-control" id="end"></select>
     </form>
     <span id="error"></span>
    </div>
    <script src="{{ url_for('static', filename='js/stats.js') }}"></script>
    {% endif %}
  </article>
</div>
{% endblock %}
